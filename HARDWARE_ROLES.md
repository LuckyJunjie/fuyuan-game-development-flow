# 异构集群硬件与职责分配

## 硬件清单

| 设备 | 配置 | 角色 |
|------|------|------|
| 树莓派 8GB | 4核 A72, 8GB | OpenClaw 主控、调度中心 |
| 树莓派 4GB | 4核 A72, 4GB | 备用主控、监控 |
| Windows PC | 中端配置 | Windows 兼容性测试、美术精修 |
| Mac mini (未来) | M4 10核/16GB | 游戏开发主力 |
| Mac mini (未来) | M4 Pro 12核/24GB | 金融分析、CI 执行节点 |

---

## 当前设备职责 (8GB 树莓派)

### 核心职责

| 职责 | 说明 | 状态 |
|------|------|------|
| OpenClaw 主控 | 接收飞书指令，协调各节点 | ✅ |
| 飞书机器人 | 监听群消息，触发任务 | ✅ |
| Git 服务 | 代码仓库托管 | ✅ |
| 调度中心 | 任务分发与监控 | ✅ |
| Web 服务部署 | securities-analysis-tool 等 | 🔄 |

### 次要职责

| 职责 | 说明 | 状态 |
|------|------|------|
| API 网关 | 外部金融数据接入 | 🔄 |
| 内网穿透 | 外部访问入口 | 📋 待配置 |
| 监控 | Prometheus + Grafana | 📋 |

---

## 待接入设备

### Mac mini (16GB)
- 游戏开发主力
- 日常编码
- 本地模型推理

### Mac mini (24GB)
- 金融分析
- CI 执行节点
- 夜间构建

### Windows PC
- Windows 兼容性测试
- 美术精修

---

## 任务分配规则

### P0 - 最高优先级
- 树莓派可独立完成的任务
- 飞书机器人响应
- Web 服务部署

### P1 - 高优先级
- 需要 Mac mini 的任务
- 代码开发
- 构建打包

### P2 - 中优先级
- Windows 测试
- 美术资源处理

---

## 部署服务列表

### 当前运行的服务

| 服务 | 端口 | 状态 |
|------|------|------|
| securities-analysis-tool | 8000 | 🔄 部署中 |
| Agent Tool Server | 8765 | 📋 待部署 |

### 计划部署

| 服务 | 端口 | 说明 |
|------|------|------|
| Godot (headless) | - | 截图验证 |
| 内网穿透服务 | - | 外网访问 |

---

## 工作流程

```
飞书指令 → 树莓派接收 → 任务解析 → 分发执行 → 结果汇总 → 飞书通知
```

---

*最后更新: 2026-02-25*
